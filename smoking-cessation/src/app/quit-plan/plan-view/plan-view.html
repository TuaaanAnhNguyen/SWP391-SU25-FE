<div class="page-body">
  <main class="container main-content">
    <h2 class="section-title">My Quit Smoking Plan</h2>

    <ng-container *ngIf="plan; else noPlan">
      <div class="plan-overview-container">
        <h3 class="plan-section-title">Plan Overview</h3>
        <div class="plan-detail-group">
          <strong>Quit Date:</strong>
          <span>{{ plan.quitDate | date: 'dd/MM/yyyy' }}</span>
        </div>
        <div class="plan-detail-group">
          <strong>Plan Duration:</strong>
          <span>{{ plan.duration }} weeks</span>
        </div>
        <div class="plan-detail-group">
          <strong>Cigarettes per Day Before Quitting:</strong>
          <span>{{ plan.dailyCigarettes }}</span>
        </div>
        <div class="plan-detail-group">
          <strong>Smoking Frequency:</strong>
          <span>{{ plan.frequency }}</span>
        </div>
        <div class="plan-detail-group">
          <strong>Type of Tobacco:</strong>
          <span>{{ plan.cigaretteType }}</span>
        </div>
        <div class="plan-detail-group">
          <strong>Estimated Cost per Pack:</strong>
          <span>{{ plan.cigaretteCost | number }} {{ plan.currency || 'VND' }}</span>
        </div>
      </div>

      <!-- Get Ready to Quit Section -->
      <div class="plan-section">
        <h3 class="plan-section-title">Get Ready to Quit</h3>
        <p class="plan-text-content">
          Planning ahead is key to quitting successfully. Prepare yourself and your environment for your quit date.
        </p>
        <div class="plan-detail-group">
          <strong>Preparation Tips:</strong>
        </div>
        <ul class="plan-card-grid">
          <li class="choice-card selected-choice">
            <span class="choice-text">Tell your friends and family about your quit date.</span>
          </li>
          <li class="choice-card selected-choice">
            <span class="choice-text">Remove all cigarettes and ashtrays from your home and car.</span>
          </li>
        </ul>
      </div>

      <!-- Understand Your Triggers Section -->
      <div class="plan-section">
        <h3 class="plan-section-title">Understand Your Triggers</h3>
        <p class="plan-text-content">
          Recognizing your triggers is the first step to overcoming them. Here are the triggers you identified:
        </p>
        <div class="plan-card-grid">
          <li class="choice-card selected-choice" *ngFor="let trigger of plan.triggers">
            <span class="choice-text">{{ trigger }}</span>
          </li>
          <li class="choice-card" *ngIf="plan.otherTriggers">
            <span class="choice-text">Other trigger: {{ plan.otherTriggers }}</span>
          </li>
        </div>
      </div>

      <!-- Plan for Your Cravings Section -->
      <div class="plan-section">
        <h3 class="plan-section-title">Plan for Your Cravings</h3>
        <p class="plan-text-content">
          Cravings will happen, but you have strategies to manage them.
        </p>
        <div class="plan-card-grid">
          <li class="choice-card selected-choice" *ngFor="let strategy of plan.strategies">
            <span class="choice-text">{{ strategy }}</span>
          </li>
          <li class="choice-card" *ngIf="plan.otherStrategies">
            <span class="choice-text">Other strategy: {{ plan.otherStrategies }}</span>
          </li>
        </div>
      </div>

      <!-- Build Your Support Team Section -->
      <div class="plan-section">
        <h3 class="plan-section-title">Build Your Support Team</h3>
        <p class="plan-text-content">
          Support from others will help you stay strong during your quit journey.
        </p>
        <div class="plan-card-grid">
          <li class="choice-card selected-choice">
            <span class="choice-text">Join a support group or community.</span>
          </li>
          <li class="choice-card">
            <span class="choice-text">Ask friends or family for help.</span>
          </li>
          <li class="choice-card selected-choice">
            <span class="choice-text">Connect with a coach (VIP only).</span>
          </li>
        </div>
      </div>

      <!-- Remember Why You Want to Quit Section -->
      <div class="plan-section">
        <h3 class="plan-section-title">Remember Why You Want to Quit</h3>
        <p class="plan-text-content">
          Keeping your reasons in mind will help you get through tough moments.
        </p>
        <div class="plan-card-grid">
          <li class="choice-card selected-choice" *ngFor="let reason of plan.reasons">
            <span class="choice-text">{{ reason }}</span>
          </li>
          <li class="choice-card" *ngIf="plan.otherReasons">
            <span class="choice-text">Other reason: {{ plan.otherReasons }}</span>
          </li>
        </div>
      </div>

      <div class="edit-plan-cta">
        <a [routerLink]="['/quit-plan']" class="button-primary">Edit My Plan</a>
      </div>
    </ng-container>

    <ng-template #noPlan>
      <div class="plan-section">
        <h3 class="plan-section-title">No Plan Found</h3>
        <p>You have not created a quit plan yet. <a [routerLink]="['/quit-plan']">Create a plan now</a>.</p>
      </div>
    </ng-template>
  </main>
</div>